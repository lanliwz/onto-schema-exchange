
<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>

<meta name="description" content="A family tree diagram of British nobility." />
<meta itemprop="description" content="A family tree diagram of British nobility." />


    <title>
      Family Tree Diagram of British Nobility | GoJS Diagramming Library
    </title>
  </head>

  <body>
    <!-- This top nav is not part of the sample code -->
    <textarea id="dataModelOutput">loading ...</textarea>
    <div class="flex flex-col prose">
      <div class="w-full max-w-screen-xl mx-auto">
        <!-- * * * * * * * * * * * * * -->
        <!-- Start of GoJS sample code -->
        <script src="https://cdn.jsdelivr.net/npm/gojs@3.0.15"></script>
        <script id="model_data" src="/model/ft_model_data.js"></script>
        <script id="model_template" src="/model/ft_model_template.js"></script>
        

        <div id="allSampleContent" class="p-4 w-full">
          
            
            


        <link href="https://fonts.googleapis.com/css?family=Poppins:regular,medium,bold&subset=latin,latin-ext" rel="stylesheet"
          type="text/css">
            <script id="socket">
                const socket = new WebSocket("ws://localhost:8000/ws");
                const model_data_file = "/Users/weizhang/Downloads/ft_model_data.json"

                socket.onmessage = function(event) {

                  if (event.data === "__connected__") {
                    socket.send(model_data_file);
                  }
                  if (event.data === "__ping__") {
                    socket.send("__pong__");
                    return;
                  }

                  // Assume valid JSON GoJS model
                  try {
                  //document.getElementById("dataModelOutput").textContent = go.Model.fromJson(event.data);
                  console.log(go.Model.fromJson(event.data));
                  //myDiagram.model = go.Model.fromJson(event.data);

                  } catch (err) {
                    console.error("Invalid diagram JSON:", err);
                  }
                };

                socket.onclose = function() {
                  const msg = document.createElement("div");
                  msg.textContent = "Connection closed";
                  document.getElementById("messages").appendChild(msg);
                };
          </script>
            <script id="code">

              window.addEventListener('DOMContentLoaded', init);
            </script>

        <div id="sample">
          <div id="myDiagramDiv" style="background-color: white; border: solid 1px black; width: 100%; height: 550px"></div>
          <p><button id="zoomToFit">Zoom to Fit</button> <button id="centerRoot">Center on root</button></p>

        </div>
        </div>
      </div>
    </div>
  </body>
</html>